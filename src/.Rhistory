r=raster("../../data/aux/runoff_1981_2020_annmean.nc")
library(raster)
r=raster("../../data/aux/runoff_1981_2020_annmean.nc")
plot(r)
ro.max()
 q()
n
library(raster)
r=raster('../../data/aux/merit_vilcanota_Qanntot.tif')
plot(r)
r=raster('../../data/aux/merit_vilcanota_Qanntot.tif')
plot(r)
plot(r)
r=raster('../../data/aux/merit_vilcanota_basins.tif')
plot(r)
 cellFromXY(r, xy=c(-71,-14))
r[r!=831]=NA 
plot(r)
r=raster('../../data/aux/merit_vilcanota_basins.tif')
 cellFromXY(r, xy=c(-71,-14))
?cellFromXY 
r=raster('../../data/aux/merit_vilcanota_basins.tif')
 cellFromXY(r, xy=c(-71,-14))
r[831]
r[r!=412] = NA 
plot(r)
q()
n
library(raster)
r=raster('/home/sm510/JULES_output/JULES_vn6.1.S2.daily_hydrology.1980.reformat.nc')
r
plot(r)
r=raster('/home/sm510/JULES_output/JULES_vn6.1.S2.daily_hydrology.1980.reformat.nc', varname='surf_roff')
r
plot(r)
q()
n
library(raster)
r=raster("../data/jules-output/JULES_vn6.1.S2.daily_hydrology.2018.regrid.nc", varname="runoff")
q()
n
library(raster)
library(raster)
r=raster("../data/aux/merit_elv.vrt")
r=raster("../data/aux/merit_elv.tif")
getwd()
r=raster("../../data/aux/merit_elv.vrt")
plot(r)
r=raster("../merit_vilcanota.tif")
plot(r)
r=raster("../merit_vilcanota.tif")
plot(r)
v=getValues(r)
v
r=raster("../merit_vilcanota.tif")
r
plot(r)
r=raster("../../data/aux/merit_elv_0.100000Deg.tif")
plot(r)
q()
n
r=raster("test.nc")
library(raster)
r=raster("test.nc")
plot(r)
r=raster("test2.nc")
plot(r)
r=raster("test.nc")
plot(r)
r=raster("test2.nc")
plot(r)
q()
n
library(raster)
r=raster("test3.nc")
r=raster("test3.nc", varname="precip")
r
plot(r)
r=raster("test4.nc", varname="precip")
plot(r)
r=raster("test3.nc", varname="precip")
plot(r)
q()
n
r=raster("~/projects/mosart/code/mosartwmpy_data/tutorial/domains/mosart.nc")
library(raster)
r=raster("~/projects/mosart/code/mosartwmpy_data/tutorial/domains/mosart.nc", varname="ID"))
r=raster("~/projects/mosart/code/mosartwmpy_data/tutorial/domains/mosart.nc", varname="ID")
r
plot(r)
v=getValues(r)
v[1:10]
min(v)
r=raster("~/projects/mosart/code/mosartwmpy_data/tutorial/domains/mosart.nc", varname="dnID")
r
v=getValues(r)
v
min(v)
unique(v)
unique(v) %>% sort
library(magrittr)
unique(v) %>% sort
unique(v) %>% sort(decreasing=TRUE)
q()
n
library(raster)
r=raster("~/projects/mosart/code/mosartwmpy_data/tutorial/domains/mosart.nc", varname="frac")
plot(r)
r=raster("~/projects/mosart/code/mosartwmpy_data/tutorial/domains/mosart.nc", varname="area")
plot(r)
r[r==0]=NA
plot(r)
plot(area(r))
plot(r)
r=raster("~/projects/mosart/code/mosartwmpy_data/tutorial/domains/mosart.nc", varname="rdep")
r
plot(r)
getValues(r)
r=raster("~/projects/mosart/code/mosartwmpy_data/tutorial/domains/mosart.nc", varname="rwid")
v=getValues(r)
v
min(v, na.rm=T)
getwd()
r=raster("../../data/aux/merit_vilcanota_rivwth.tif")
r=raster("../../data/aux/merit_wth.tif")
plot(r)
v=getValues(r)
min(v)
max(v)
r[!r>0] = NA 
plot(r)
r=raster("~/projects/mosart/code/mosartwmpy_data/tutorial/domains/mosart.nc", varname="rwid")
r=raster("~/projects/mosart/code/mosartwmpy_data/tutorial/domains/mosart.nc", varname="rwid0")
v=getValues(r)
min(v)
min(v, na.rm=T)
150/30 
max(v, na.rm=T)
plot(v)
plot(r)
dim(r)
r[100,100]
r[100,101]
r[100,]
r[100,358]
r=raster("~/projects/mosart/code/mosartwmpy_data/tutorial/domains/mosart.nc", varname="rwid")
r[100,358]
179.5542/5
r=raster("~/projects/mosart/code/mosartwmpy_data/tutorial/domains/mosart.nc", varname="hslp")
r[100,358]
r=raster("~/projects/mosart/code/mosartwmpy_data/tutorial/domains/mosart.nc", varname="tslp")
r[100,358]
r=raster("~/projects/mosart/code/mosartwmpy_data/tutorial/domains/mosart.nc", varname="tslp")
r=raster("~/projects/mosart/code/mosartwmpy_data/tutorial/domains/mosart.nc", varname="rslp")
r[100,358]
r[100,]
r[100,311]
r[100,271]
r=raster("~/projects/mosart/code/mosartwmpy_data/tutorial/domains/mosart.nc", varname="tslp")
r[100,271]
r=raster("~/projects/mosart/code/mosartwmpy_data/tutorial/domains/mosart.nc", varname="rslp")
r[100,344]
r=raster("~/projects/mosart/code/mosartwmpy_data/tutorial/domains/mosart.nc", varname="tslp")
r[100,344]
r=raster("~/projects/mosart/code/mosartwmpy_data/tutorial/domains/mosart.nc", varname="twid")
plot(r)
v=getValues(r)
unique(v)
table(v)
r=raster("~/projects/mosart/code/mosartwmpy_data/tutorial/domains/mosart.nc", varname="frac")
plot(r)
r=raster("~/projects/mosart/code/mosartwmpy_data/tutorial/domains/mosart.nc", varname="area")
plot(r)
r=raster("~/projects/mosart/code/mosartwmpy_data/tutorial/domains/mosart.nc", varname="areaTotal")
plot(r)
r=raster("~/projects/mosart/code/mosartwmpy_data/tutorial/domains/mosart.nc", varname="areaTotal2")
plot(r)
r=raster("~/projects/mosart/code/mosartwmpy_data/tutorial/domains/mosart.nc", varname="nr")
r[100,344]
r=raster("~/projects/mosart/code/mosartwmpy_data/tutorial/domains/mosart.nc", varname="nt")
r[100,344]
r[100,]
r[100,269]
r=raster("~/projects/mosart/code/mosartwmpy_data/tutorial/domains/mosart.nc", varname="nr")
r[100,269]
r=raster("~/projects/mosart/code/mosartwmpy_data/tutorial/domains/mosart.nc", varname="nh")
r[100,269]
plot(r)
q()
n
r=raster("~/projects/mosart/code/mosartwmpy_data/tutorial/domains/land.nc", varname="area")
library(raster)
r=raster("~/projects/mosart/code/mosartwmpy_data/tutorial/domains/land.nc", varname="area")
r
unique(getValues(r))
r
lat
v = getValues(r)
min(v)
max(v)
v = getValues(r)
r
xc=raster("~/projects/mosart/code/mosartwmpy_data/tutorial/domains/land.nc", varname="xc")
yc=raster("~/projects/mosart/code/mosartwmpy_data/tutorial/domains/land.nc", varname="yc")
xc[1,1]
yc[1,1]
xc
yc[1,1]
yc[1,2]
yc[2,1]
yc[2,1] - yc[1,1]
xc[1,1]
x[1,1]
r[1,1]
yc[100,1]
r[100,1]
ids
xc=raster("~/projects/mosart/code/mosartwmpy_data/tutorial/domains/land.nc", varname="frac")
plot(xc)
xv=raster("~/projects/mosart/code/mosartwmpy_data/tutorial/domains/land.nc", varname="xv")
dim(xv)
xc=raster("~/projects/mosart/code/mosartwmpy_data/tutorial/domains/land.nc", varname="xc")
dim(xc)
dim(xv)
xv[1,]
xv[2,]
yv=raster("~/projects/mosart/code/mosartwmpy_data/tutorial/domains/land.nc", varname="yv")
dim(yv)
yv[1,]
r=raster("~/data/MERIT/hydro/n00w080_dir.tif")
r
plot(r)
r=raster("~/data/MERIT/hydro/n00w080_elv.tif")
r
plot(r)
plot(is.na(r))
yv=raster("~/projects/mosart/code/mosartwmpy_data/tutorial/domains/mosart.nc", varname="frac")
x=raster("~/projects/mosart/code/mosartwmpy_data/tutorial/domains/mosart.nc", varname="frac")
plot(x)
x=raster("~/projects/mosart/code/mosartwmpy_data/tutorial/domains/mosart.nc", varname="area")
plot(x)
x[x==0]=NA
plot(x)
x=raster("~/projects/mosart/code/mosartwmpy_data/tutorial/domains/mosart.nc", varname="nr")
y=raster("~/projects/mosart/code/mosartwmpy_data/tutorial/domains/mosart.nc", varname="nt")
all.equal(nr,nt)
all.equal(x,y)
all.equal(x,y,values=T)
q()
n
ls
library(raster)
r=raster("mosartwmpy_data/tutorial/domains/mosart.nc", varname="dnID")
list.files()
setwd("..")
r=raster("mosartwmpy_data/tutorial/domains/mosart.nc", varname="dnID")
r
plot(r)
min(getValues(r))
r=raster("mosartwmpy_data/tutorial/domains/mosart.nc", varname="fdir")
min(getValues(r))
plot(r)
q()
n
r=raster("../mosartwmpy_data/tutorial/domains/land.nc", varname="mask")
library(raster)
r=raster("../mosartwmpy_data/tutorial/domains/land.nc", varname="mask")
plot(r)
q()
n
library(raster)
 r=raster("../bin/aux/merit_flow_direction.tif")
plot(r)
uparea
q()
n
ls
getwd()
list.files('../bin')
setwd('../bin')
library(raster)
r=raster("JULES_vn6.1.S2.daily_hydrology.1980.regrid.nc", varname="runoff")
plot(r)
x
x
r=raster("../data/jules-output/JULES_vn6.1.S2.daily_hydrology.1980.regrid.nc", varname="runoff")
plot(r)
r=raster("../data/jules-output/JULES_vn6.1.S2.daily_hydrology.1980.nc", varname="runoff")
plot(r)
library(ncdf4)
nc=nc_open("../data/jules-output/JULES_vn6.1.S2.daily_hydrology.1980.regrid.nc")
runoff=ncvar_get(nc,"runoff")
dim(runoff)
image(runoff[,,1])
nc=nc_open("JULES_vn6.1.S2.daily_hydrology.1980.regrid.nc")
runoff=ncvar_get(nc,"runoff")
image(runoff[,,1])
getwd()
list.files()
LAT_INDEX
r=raster("/home/sm510/projects/rahu/data/WRF_climate_fixed/p.nc")
r=raster("/home/sm510/projects/rahu/data/WRF_climate_fixed/precip.nc")
plot(r)
r=raster("../src/test.nc")
plot(r)
m=as.matrix(r)
dim(m)
m[2,1]
m[3,1]
image(m)
plot(r)
image(m)
plot(r0
plot(r)
nc=nc_open("../src/test.nc")
var=ncvar_get(nc,"runoff")
nc
getwd()
 list.files("../../rahu/data"
)
 list.files("../../rahu/code/basin-averages/")
 r=raster("../../rahu/code/basin-averages/precip_ann_mean_1980_2018_regrid.nc")
plot(r)
m=matrix(data=1:10,nrow=5)
m
m[1,1]
q()
n
library(raster)
nc=nc_open("../src/test.nc")
r=raster("../src/test.nc")
plot(r)
getwd()
r=raster("test.nc")
r
plot(r)
r=raster("test.nc")
plot(r)
r=raster("test.nc")
r
plot(r)
indices.T
txt = read.csv("test.csv")
txt 
image(as.matrix(txt))
r=raster("test.nc")
plot(r)
r=raster("test.nc")
plot(r)
r=raster("test.nc")
plot(r)
r=raster("~/projects/mosart/data/jules-output/JULES_vn6.1.S2.daily_hydrology.1980.nc", varname="runoff")
plot(r)
r=raster("~/projects/rahu/ancil//netcdf/jules_land_frac_ESA_rahu.nc")
r=raster("~/projects/rahu/ancil//netcdf/jules_land_frac_ESA_rahu.nc", varname="land_frac")
plot(r)
r=brick("/home/sm510/projects/rahu/ancil//netcdf/jules_frac_9pft_2015_ESA_rahu.nc", varname="frac")
plot(r[[1]])
plot(r[[2]])
plot(r[[3]])
plot(r[[4]])
plot(r[[4]])
r=raster("~/projects/rahu/data/WRF_climate_fixed/precip.nc", varname="precip")
plot(r)
library(sp)
r
d = read.csv("test.csv")
d = read.csv("test.csv")
d
head(d)
d = d[,4:6]
d
head(d)
d <- ~latitude+longitude
d
d = read.csv("test.csv")
d = d[,4:6]
d
head(d)
coords=d[,1:2]
coords=d[,1:2]
spd = SpatialPoints(coords, "+proj=longlat +datum=WGS84 +no_defs")
spd = SpatialPoints(coords, CRS("+proj=longlat +datum=WGS84 +no_defs"))
spd 
r
r[] = 0
r[spd] = d$runoff
plot(r)
d$runoff
max(d$runoff)
max(d$runoff, na.rm=T)
r
r[spd]
spd
r
 spd
r
r[]
r[spd]
spd[1,]
r
spd = SpatialPointsDataFrame(coords, data=CRS("+proj=longlat +datum=WGS84 +no_defs"))  C-c C-c
coords
head(coords)
coords=coords[,c(2,1)]
spd = SpatialPoints(coords, data=CRS("+proj=longlat +datum=WGS84 +no_defs"))  C-c C-c
spd = SpatialPoints(coords, data=CRS("+proj=longlat +datum=WGS84 +no_defs"))
spd = SpatialPoints(coords, CRS("+proj=longlat +datum=WGS84 +no_defs"))
spd
r[spd] = d$runoff
r
plot(r)
r=raster("~/projects/rahu/ancil/netcdf/jules_latlon_ESA_rahu.nc", varname="lat")
r=raster("~/projects/rahu/ancil/netcdf/jules_latlon_ESA_rahu.nc", varname="latitude")
plot(R)
plot(r)
list.files()
r=raster("test.nc")
r
plot(r)
r=raster("~/projects/ganges_water_machine/jules-output/JULES_vn6.1.S2.daily_hydrology.1980.2D.nc", varname="runoff")
plot(r)
v=getValues(r)
mean(v)
r=raster("test.nc")
vv=getValues(r)
mean(v,na.rm=T)
mean(vv,na.rm=T)
coords 
head(coords)
r=raster("test.nc")
plot(r)
plot(r)
r=raster("test.nc")
plot(r)
q()
n
